<!DOCTYPE HTML>
<html>
<head>
	<script type="text/javascript">
	window.onload = function () {

      var dps = [{x: 1, y: 10}, {x: 2, y: 13}, {x: 3, y: 18}, {x: 4, y: 20}, {x: 5, y: 17},{x: 6, y: 10}, {x: 7, y: 13}, {x: 8, y: 18}, {x: 9, y: 20}, {x: 10, y: 17}];   //dataPoints. 
      var teste= 66.760559;
      var nivel="66";
      var chart = new CanvasJS.Chart("chartContainer",{
      	title :{
      		text: "Controle de Nível de Tanque"
      	},
      	axisX: {						
      		title: "Amostra"
      	},
      	axisY: {						
      		title: "Nível"
      	},
      	data: [{
      		type: "line",
      		dataPoints : dps
      	}]
      });

      chart.render();
      var xVal = dps.length + 1;
      var yVal = 15;	
      var updateInterval = 1000;
      var sign=1;
	

      var updateChart = function () {
      	
      	
      	yVal = yVal +  Math.round(5 + Math.random() *(-5-5));
      	dps.push({x: xVal,y: yVal});
      	
      	xVal++;
      	if (dps.length >  10 )
      	{
      		dps.shift();				
      	}

      	chart.render();		

	// update chart after specified time. 
	teste=teste+sign;
	nivel="60";
      	if (teste>=80 )
      	{
      		sign=-1;				
      	}	

      	if (teste < 20 )
      	{
      		sign=1;				
      	}	


 	var tank = document.getElementById('tankInf');
	tank.setAttributeNS(null, "height", teste);

};

setInterval(function(){updateChart()}, updateInterval); 
}
</script>
<script type="text/javascript" src="./canvasjs.min.js"></script>

</script>
<script type="text/javascript" src="./app.js"></script>

</head>


<body>
	<div id="chartContainer" style="height: 300px; width: 50%;">
	</div>

teste





<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="210mm"
   height="297mm"
   viewBox="0 0 210 297"
   version="1.1"
   id="svg8"
   inkscape:version="1.0.1 (3bc2e813f5, 2020-09-07)"
   sodipodi:docname="tank2.svg">
  <defs
     id="defs2" />
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="1.4"
     inkscape:cx="460.08418"
     inkscape:cy="389.21611"
     inkscape:document-units="mm"
     inkscape:current-layer="layer1"
     inkscape:document-rotation="0"
     showgrid="false"
     inkscape:window-width="1920"
     inkscape:window-height="1017"
     inkscape:window-x="-8"
     inkscape:window-y="-8"
     inkscape:window-maximized="1" />
  <metadata
     id="metadata5">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title></dc:title>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1">
    <rect
       style="fill:#0000ff;fill-rule:evenodd;stroke-width:0.308144;stroke:#000000"
       id="rect10"
       width="107.34524"
       height="128.17"
       x="31.75"
       y="34.35976" />
    <rect id="tankInf"
       style="fill:#FFFFFF;stroke:#000000;stroke-width:0.177201"
       id="rect12"
       width="107.40695"
       height="50"
       x="31.719149"
       y="34.328056" />
  </g>
</svg>




</body>
</html>


